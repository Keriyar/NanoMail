# NanoMail

<div align="center">

![NanoMail Logo](assets/icons/NanoMail.ico)

**è½»é‡çº§çš„ Windows Gmail é€šçŸ¥å®¢æˆ·ç«¯**

çµæ„Ÿæ¥æºäº macOS ç‰ˆ [Gmail Notification](https://github.com/crayonape/Gmail-Notification)

[![License: GPL v3](https://img.shields.io/badge/License-GPLv3-blue.svg)](https://www.gnu.org/licenses/gpl-3.0)
[![Rust](https://img.shields.io/badge/Rust-2024-orange.svg)](https://www.rust-lang.org/)
[![Platform](https://img.shields.io/badge/Platform-Windows%2010%2F11-blue.svg)](https://www.microsoft.com/windows)

</div>

---

## âœ¨ ç‰¹æ€§

- ğŸ¨ **macOS é£æ ¼ç•Œé¢** - ç£¨ç ‚ç»ç’ƒæ•ˆæœã€åœ†è§’è®¾è®¡ã€æµç•…åŠ¨ç”»
- ğŸ“§ **å®æ—¶æœªè¯»æ•°** - æ¯ 3 åˆ†é’Ÿè‡ªåŠ¨åŒæ­¥ Gmail æœªè¯»é‚®ä»¶æ•°é‡
- ğŸ” **å®‰å…¨è®¤è¯** - ä½¿ç”¨ OAuth2.0 æˆæƒ,æ”¯æŒ Token åŠ å¯†å­˜å‚¨
- ğŸ–¼ï¸ **å¤´åƒæ˜¾ç¤º** - è‡ªåŠ¨è·å–å¹¶ç¼“å­˜ Google è´¦æˆ·å¤´åƒ
- ğŸš€ **è½»é‡é«˜æ•ˆ** - äºŒè¿›åˆ¶ä½“ç§¯ < 2MB,å†…å­˜å ç”¨ < 20MB
- ğŸ¯ **ç³»ç»Ÿæ‰˜ç›˜** - å¸¸é©»ç³»ç»Ÿæ‰˜ç›˜,ä¸‰æ€å›¾æ ‡æŒ‡ç¤ºçŠ¶æ€
- ğŸ”„ **æ™ºèƒ½åŒæ­¥** - è‡ªåŠ¨ Token åˆ·æ–°,ç½‘ç»œæ–­çº¿é‡è¿

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç³»ç»Ÿè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**: Windows 10 (1809+) æˆ– Windows 11
- **è¿è¡Œæ—¶**: æ— éœ€é¢å¤–ä¾èµ–(é™æ€é“¾æ¥)

### ä¸‹è½½å®‰è£…

1. ä» [Releases](../../releases) é¡µé¢ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ `nanomail.exe`
2. åŒå‡»è¿è¡Œ,ç¨‹åºä¼šè‡ªåŠ¨åœ¨ç³»ç»Ÿæ‰˜ç›˜å¯åŠ¨
3. å·¦é”®ç‚¹å‡»æ‰˜ç›˜å›¾æ ‡æ‰“å¼€ä¸»ç•Œé¢

### é¦–æ¬¡ä½¿ç”¨

1. ç‚¹å‡»ä¸»ç•Œé¢åº•éƒ¨çš„ **â• åŠ å·æŒ‰é’®**
2. æµè§ˆå™¨ä¼šè‡ªåŠ¨æ‰“å¼€ Google æˆæƒé¡µé¢
3. ç™»å½•å¹¶æˆæƒ NanoMail è®¿é—®æ‚¨çš„ Gmail
4. æˆæƒæˆåŠŸåè‡ªåŠ¨è¿”å›,å¼€å§‹åŒæ­¥æœªè¯»é‚®ä»¶æ•°

---

## ğŸ¯ åŠŸèƒ½è¯´æ˜

### ä¸»ç•Œé¢

- **æ ‡é¢˜æ **:

  - `N` å­—æ¯ä¼šæ ¹æ®çŠ¶æ€å˜è‰²(ğŸŸ¢ æ­£å¸¸ / ğŸ”´ æœ‰æœªè¯» / ğŸŸ¡ é”™è¯¯)
  - ğŸŒ™ **æœˆäº®å›¾æ ‡**: åˆ‡æ¢ä¸»é¢˜(æš‚æœªå®ç°)
  - âœ‰ï¸ **ä¿¡å°å›¾æ ‡**: åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ Gmail

- **è´¦æˆ·å¡ç‰‡**:

  - æ˜¾ç¤ºè´¦æˆ·åã€é‚®ç®±åœ°å€ã€å¤´åƒ
  - æœªè¯»é‚®ä»¶æ•°å¾½ç« (ç»¿è‰²: æ­£å¸¸ / çº¢è‰²: é”™è¯¯)
  - ç‚¹å‡»å¤´åƒå¯é‡æ–°åŠ è½½å¤´åƒ

- **æ“ä½œæ **:
  - â• **åŠ å·**: æ·»åŠ æ–°è´¦æˆ·
  - ğŸ› **Bug**: åé¦ˆé—®é¢˜(æ‰“å¼€ GitHub Issues)
  - â¬…ï¸ **ç®­å¤´**: éšè—åˆ°æ‰˜ç›˜

### ç³»ç»Ÿæ‰˜ç›˜

- **å·¦é”®ç‚¹å‡»**: æ˜¾ç¤º/éšè—ä¸»çª—å£
- **å³é”®èœå•**:
  - ğŸ“§ æ˜¾ç¤º - æ‰“å¼€ä¸»ç•Œé¢
  - âŒ é€€å‡º - å…³é—­åº”ç”¨

### çŠ¶æ€æŒ‡ç¤º

æ‰˜ç›˜å›¾æ ‡å’Œæ ‡é¢˜ `N` å­—æ¯ä¼šæ ¹æ®åº”ç”¨çŠ¶æ€å˜è‰²:

| çŠ¶æ€        | é¢œè‰² | è¯´æ˜                  |
| ----------- | ---- | --------------------- |
| ğŸŸ¢ æ­£å¸¸     | ç»¿è‰² | æ‰€æœ‰è´¦æˆ·åŒæ­¥æ­£å¸¸      |
| ğŸ”´ æœ‰æœªè¯»   | çº¢è‰² | Token è¿‡æœŸæˆ– API é”™è¯¯ |
| ğŸŸ¡ ç½‘ç»œé”™è¯¯ | é»„è‰² | ç½‘ç»œä¸å¯ç”¨            |

---

## ğŸ”§ å¼€å‘æŒ‡å—

### ç¯å¢ƒå‡†å¤‡

1. **å®‰è£… Rust**:

   ```bash
   # ä» https://rustup.rs/ ä¸‹è½½å®‰è£…
   rustup default stable
   ```

2. **å…‹éš†ä»“åº“**:
   ```bash
   fork to your account
   git clone https://github.com/yourusername/nanomail.git
   cd nanomail
   ```

### å¼€å‘å‘½ä»¤

```bash
# å¼€å‘æ„å»º
cargo build              # æ„å»º debug ç‰ˆæœ¬
cargo run                # è¿è¡Œ(ä¼šåœ¨ç³»ç»Ÿæ‰˜ç›˜å¯åŠ¨)
cargo check              # å¿«é€Ÿè¯­æ³•æ£€æŸ¥

# ä»£ç è´¨é‡
cargo fmt                # æ ¼å¼åŒ–ä»£ç 
cargo clippy             # è¿è¡Œ linter

# æµ‹è¯•
cargo test               # è¿è¡Œæ‰€æœ‰æµ‹è¯•
cargo test --lib         # åªè¿è¡Œå•å…ƒæµ‹è¯•

# å‘å¸ƒæ„å»º
cargo build --release    # æ„å»ºä¼˜åŒ–ç‰ˆæœ¬
```

### é…ç½® OAuth2

è¦ä½¿ç”¨ Gmail API,éœ€è¦åœ¨ Google Cloud Console é…ç½®:

1. è®¿é—® [Google Cloud Console](https://console.cloud.google.com/)
2. åˆ›å»ºæ–°é¡¹ç›®æˆ–é€‰æ‹©ç°æœ‰é¡¹ç›®
3. å¯ç”¨ **Gmail API** å’Œ **Google+ API**
4. åˆ›å»º **OAuth 2.0 å®¢æˆ·ç«¯ ID**(æ¡Œé¢åº”ç”¨)
5. é…ç½®ç¯å¢ƒå˜é‡(ç³»ç»Ÿ)ï¼š`GMAIL_CLIENT_ID`, `GMAIL_CLIENT_SECRET`
6. æ·»åŠ æµ‹è¯•ç”¨æˆ·(å¼€å‘é˜¶æ®µ)

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
NanoMail/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.rs              # ä¸»å…¥å£:åˆå§‹åŒ–æ—¥å¿—ã€UIã€æ‰˜ç›˜ã€åŒæ­¥å¼•æ“
â”‚   â”œâ”€â”€ config/              # é…ç½®ç®¡ç†(OAuthã€è´¦æˆ·å­˜å‚¨ã€åŠ å¯†)
â”‚   â”œâ”€â”€ mail/gmail/          # Gmail æ¨¡å—(OAuthã€Tokenã€API)
â”‚   â”œâ”€â”€ sync/                # åŒæ­¥å¼•æ“(å®šæ—¶åŒæ­¥)
â”‚   â”œâ”€â”€ tray/                # ç³»ç»Ÿæ‰˜ç›˜(å›¾æ ‡ã€èœå•ã€äº‹ä»¶)
â”‚   â”œâ”€â”€ ui/                  # UI æ¡¥æ¥
â”‚   â””â”€â”€ utils/               # å·¥å…·åº“(HTTP å®¢æˆ·ç«¯ã€æœºå™¨æŒ‡çº¹)
â”œâ”€â”€ ui/                      # Slint UI å®šä¹‰
â”‚   â”œâ”€â”€ main.slint           # ä¸»çª—å£
â”‚   â”œâ”€â”€ themes/colors.slint  # é¢œè‰²ä¸»é¢˜
â”‚   â””â”€â”€ components/          # UI ç»„ä»¶
â”œâ”€â”€ assets/                  # èµ„æºæ–‡ä»¶
â”‚   â””â”€â”€ icons/               # å›¾æ ‡å’Œ SVG
â”œâ”€â”€ build.rs                 # æ„å»ºè„šæœ¬
â””â”€â”€ Cargo.toml               # é¡¹ç›®é…ç½®
```

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

| æŠ€æœ¯          | ç‰ˆæœ¬ | ç”¨é€”            |
| ------------- | ---- | --------------- |
| **Rust**      | 2024 | æ ¸å¿ƒè¯­è¨€        |
| **Slint**     | 1.8  | å£°æ˜å¼ GUI æ¡†æ¶ |
| **Tokio**     | 1.38 | å¼‚æ­¥è¿è¡Œæ—¶      |
| **reqwest**   | 0.12 | HTTP å®¢æˆ·ç«¯     |
| **oauth2**    | 4.4  | OAuth2 è®¤è¯     |
| **tray-icon** | 0.14 | ç³»ç»Ÿæ‰˜ç›˜        |
| **aes-gcm**   | 0.10 | Token åŠ å¯†      |
| **argon2**    | 0.5  | å¯†é’¥æ´¾ç”Ÿ        |

---

## ğŸ” éšç§ä¸å®‰å…¨

- âœ… ä½¿ç”¨ OAuth2.0 æˆæƒ,**ä¸å­˜å‚¨å¯†ç **
- âœ… Access Token å’Œ Refresh Token ä½¿ç”¨ **AES-GCM åŠ å¯†**å­˜å‚¨
- âœ… åŠ å¯†å¯†é’¥åŸºäº**æœºå™¨æŒ‡çº¹**æ´¾ç”Ÿ,é˜²æ­¢è·¨è®¾å¤‡çªƒå–
- âœ… æ‰€æœ‰ API è°ƒç”¨ä½¿ç”¨ **HTTPS** åŠ å¯†ä¼ è¾“
- âœ… è´¦æˆ·æ•°æ®å­˜å‚¨åœ¨ `%APPDATA%/NanoMail/accounts/`(ä»…æœ¬åœ°)
- âœ… **å¼€æºé€æ˜**,ä»£ç å¯å®¡è®¡

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Request!

### å¼€å‘æµç¨‹

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯: `git checkout -b feature/AmazingFeature`
3. æäº¤æ›´æ”¹: `git commit -m 'feat: Add some AmazingFeature'`
4. æ¨é€åˆ†æ”¯: `git push origin feature/AmazingFeature`
5. æäº¤ Pull Request

### ä»£ç è§„èŒƒ

- éµå¾ª Rust å®˜æ–¹ä»£ç é£æ ¼(`cargo fmt`)
- è¿è¡Œ Clippy æ£€æŸ¥(`cargo clippy`)
- æ·»åŠ å¿…è¦çš„å•å…ƒæµ‹è¯•
- æ›´æ–°ç›¸å…³æ–‡æ¡£

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [GPL-3.0 License](LICENSE) å¼€æºåè®®ã€‚

**æ³¨æ„**: æœ¬é¡¹ç›®ä»…ç”¨äºå­¦æœ¯ç›®çš„(æ¯•ä¸šè®¾è®¡é¡¹ç›®)ã€‚

---

## ğŸ™ è‡´è°¢

- çµæ„Ÿæ¥æº: [Gmail Notification (macOS)](https://github.com/crayonape/Gmail-Notification)
- UI æ¡†æ¶: [Slint](https://slint.dev/)
- å›¾æ ‡è®¾è®¡: [Icofront-é˜¿é‡Œå·´å·´çŸ¢é‡å›¾æ ‡åº“](https://www.iconfont.cn/)

---

## ğŸ“§ è”ç³»æ–¹å¼

- **Issues**: [GitHub Issues](../../issues)
- **Discussions**: [GitHub Discussions](../../discussions)

---

<div align="center">

**å¦‚æœè§‰å¾—è¿™ä¸ªé¡¹ç›®æœ‰å¸®åŠ©,è¯·ç»™ä¸ª â­ Star æ”¯æŒä¸€ä¸‹!**

Made with â¤ï¸ by NanoMail Project

</div>
